<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>


		<record id="vehicle_filter" model="ir.ui.view">
			<field name="name">delsol.vehicle.select</field>
			<field name="model">delsol.vehicle</field>
			<field name="arch" type="xml">
				<search>
					<field name="name" string="Vehiculo" />
					<field name="nro_chasis" string="Numero de Chasis" />
					<field name="serie_vin" string="Numero de vin" />
					<separator />
					<filter string="Camiones" name="camiones"
						domain="[('vehicle_type','!=','auto')]" />
					<separator />
					<filter string="Autos" name="autos" domain="[('vehicle_type','=','auto')]" />
					<separator />
				</search>
			</field>
		</record>


		<record id="vehicle_tree" model="ir.ui.view">
			<field name="name">delsol.vehicle.tree</field>
			<field name="model">delsol.vehicle</field>
			<field name="arch" type="xml">
				<tree string="Vehiculos" default_order="create_date desc">
					<field name="name" />
					<field name="state" />
					<field name="ubicacion" />
					<field name="last_date_of_change_status" />
				</tree>
			</field>
		</record>


		<record id="vehicle_form" model="ir.ui.view">
			<field name="name">delsol.vehicle.form</field>
			<field name="model">delsol.vehicle</field>
			<field name="arch" type="xml">
				<form string="Vehículo">
					<header>
						<field name="id" invisible="1" />

						<button name="%(change_state_wizard_action)d" string="Cambiar Estado"
							type="action" groups="delsol_base.group_name_set_any_state" attrs="{'invisible':[('id','=',False)]}"/>

						<field name="state" widget="statusbar" nolabel="1"
							statusbar_visible="new,not_chequed,ready_for_programmed,to_be_delivery,ready_for_delivery,delivered"
							statusbar_colors="{'new':'blue'}" />

					</header>
					<sheet string="Vehículo">
						<h1>
							<field name="client_id" />
							<!-- options="{'no_create_edit': True}" /> -->
						</h1>

						<group>
							<group>
								<field name="name" string="Nombre" />
								<field name="modelo" options="{'no_create_edit': True}" />
								<field name="color" options="{'no_create_edit': True}" />
								<field name="marca"/>
								<field name="serie_vin"/>
								<field name="nro_chasis" />
								<field name="fabricante_origen_anio"/>
								<field name="anio" />
							</group>
							<group>
								<field name="ubicacion" />
								<field name="pass_predelivery_proccess" invisible="1" attrs="{'readonly':[('state','!=', 'new')]}"/>
								<field name="create_date" />
								<field name="fecha_facturacion" />
								<field name="delivery_date_promess" />

							</group>
						</group>
						<notebook attrs="{'invisible':[('id','=', False)]}">
							<page string="Historico de estados" class="oe_read_only" >
								<field name="state_list">
									<tree limit="5" editable="bottom" create="0" delete="0">
										<field name="status" />
										<field name="date_status" />
										<field name="user_id" />
										<field name="comments" />
									</tree>
								</field>
							</page>
						</notebook>
					</sheet>
					<div class="oe_chatter oe_read_only">
						<field name="message_follower_ids" widget="mail_followers" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>


		<record model="ir.ui.view" id="delsol_vehicle_form_for_pass_predelivery_process">
			<field name="name">delsol.vehicle.form.for.pass_predelivery_process</field>
			<field name="model">delsol.vehicle</field>
			<field name="inherit_id" ref="vehicle_form" />
			<field name="groups_id" eval="[(6,0,[ref('delsol_base.group_name_without_preentrega')])]" />
			<field name="arch" type="xml">
				<field name="pass_predelivery_proccess" position="replace">
								<field name="pass_predelivery_proccess"  attrs="{'readonly':[('state','!=', 'new')]}"/>
				</field>
			</field>
		</record>


		<record id="open_view_vehicle_all" model="ir.actions.act_window">
			<field name="name">Vehículos</field>
			<field name="res_model">delsol.vehicle</field>
			<field name="view_type">form</field>
			<field name="context">{
				'search_default_autos': 1
				}
			</field>
			<field name="domain">[]</field>
			<field name="view_mode">tree,form,calendar</field>
		</record>

		<record id="open_view_vehicle_cam_all" model="ir.actions.act_window">
			<field name="name">Vehículos</field>
			<field name="res_model">delsol.vehicle</field>
			<field name="view_type">form</field>
			<field name="context">{
				'search_default_camiones': 1
				}
			</field>
			<field name="domain">[]</field>
			<field name="view_mode">tree,form,calendar</field>
		</record>

		<record id="open_view_vehicle_color_all" model="ir.actions.act_window">
			<field name="name">Colores</field>
			<field name="res_model">delsol.vehicle_color</field>
			<field name="view_type">form</field>
			<field name="domain">[]</field>
			<field name="view_mode">tree,form</field>
		</record>
	</data>
</openerp>